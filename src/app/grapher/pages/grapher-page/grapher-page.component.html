<div class="diagramador">
  <div class="header">
    <div class="left">
      <button routerLink="/home" class="custom-button btn-gray">
        <i class="fas fa-home mr-5"></i>
        Inicio
      </button>
    </div>
    <div class="center">
      <span class="project-name" [attr.data-name]="project?.name">{{
        project?.name
      }}</span>
      <span class="status" [ngClass]="{ connected: isConnected }">{{
        isConnected ? "Conectado" : "Desconectado"
      }}</span>
    </div>
    <div class="right">
      <button (click)="openModal()" class="custom-button">
        <i class="fas fa-share-alt mr-5"></i>
        Compartir
      </button>
      <button (click)="openModalSave()" class="custom-button ml-10 btn-success">
        <i class="fa fa-save mr-5"></i>
        Guardar
      </button>
    </div>
  </div>

  <app-modal-share></app-modal-share>
  <app-modal-save [imagenURL]="imagenURL"></app-modal-save>

  <div class="content">
    <div class="sidebar">
      <div class="user-avatar active" *ngFor="let client of clients">
        <img
          [src]="
            client.photo !== ''
              ? client.photo
              : './assets/images/user_profile.png'
          "
          alt="avatar-1"
          [title]="client.fullname"
        />
      </div>
      <!-- <div class="user-avatar active">
        <img src="./assets/images/avatars/300-2.jpg" alt="avatar-2" />
      </div>
      <div class="user-avatar active">
        <img src="./assets/images/avatars/300-3.jpg" alt="avatar-3" />
      </div>
      <div class="user-avatar active">
        <img src="./assets/images/avatars/300-4.jpg" alt="avatar-4" />
      </div>
      <div class="user-avatar active">
        <img src="./assets/images/avatars/300-5.jpg" alt="avatar-5" />
      </div> -->
    </div>
    <div id="canvasContainer" class="canvas">
      <!-- <div class="drawing-area">
        {{ project | json }}
      </div> -->
      <canvas
        #canvas
        id="canvas"
        [ngClass]="{ 'cursor-delete': isDeleting }"
        width="1100"
        height="600"
      ></canvas>
    </div>
    <div class="shapes pl-10 pt-10 pb-10">
      <button class="shape" data-name="Actor" (click)="addActor()">
        <img src="./assets/images/ic_user_dark.png" alt="icon-user" />
      </button>
      <button class="shape" data-name="Interface" (click)="addInterface()">
        <img src="./assets/images/ic_interface_dark.png" alt="icon-interface" />
      </button>
      <button class="shape" data-name="Control" (click)="addControl()">
        <img src="./assets/images/ic_control_dark.png" alt="icon-control" />
      </button>
      <button class="shape" data-name="Entity" (click)="addEntity()">
        <img src="./assets/images/ic_entity_dark.png" alt="icon-entity" />
      </button>
      <button class="shape" data-name="Message" (click)="addMessage()">
        <img
          class="img-small"
          src="./assets/images/ic_message_dark.png"
          alt="icon-message"
        />
      </button>
    </div>
    <div class="shapes pl-10 pt-10 pb-10">
      <button class="shape" data-name="Loop" (click)="addLoop()">
        <img
          class="img-small"
          src="./assets/images/ic_loop_dark.png"
          alt="icon-loop"
        />
      </button>
      <button class="shape" data-name="Alt" (click)="addAlt()">
        <img
          class="img-small"
          src="./assets/images/ic_conditional_dark.png"
          alt="icon-conditional"
        />
      </button>
      <button class="shape" data-name="Sync Message" (click)="addRightArrow()">
        <img
          src="./assets/images/ic_right_sync_dark.png"
          alt="icon-right-arrow"
        />
      </button>
      <button class="shape" data-name="Async Message" (click)="addRightSyncArrow()">
        <img
          src="./assets/images/ic_right_async_dark.png"
          alt="icon-right-arrow"
        />
      </button>
      <button class="shape" data-name="Response Message" (click)="addLeftArrow()">
        <img src="./assets/images/ic_return_dark.png" alt="icon-left-arrow" />
      </button>
      <button class="shape" data-name="Recursive" (click)="addLoopArrow()">
        <img src="./assets/images/ic_loop_arrow_dark.png" alt="icon-left-arrow" />
      </button>
      <button class="shape" data-name="Remove" (click)="enableDelete()">
        <img
          class="img-small"
          [src]="
            isDeleting
              ? './assets/images/ic_eraser.png'
              : './assets/images/ic_eraser_dark.png'
          "
          alt="icon-remove"
        />
      </button>
    </div>
  </div>
</div>
